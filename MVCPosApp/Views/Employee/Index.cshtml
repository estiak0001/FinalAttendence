@model BusinessLogic.Repository.ProductIndexView
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_MasterLayout.cshtml";
}

<title>Employee General Info</title>

<!-- Estiak -->
<link rel="stylesheet" href="~/FrontEnd/plugins/tempusdominus-bootstrap-4/css/tempusdominus-bootstrap-4.min.css">
<link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700" rel="stylesheet">

<link rel="stylesheet" href="~/FrontEnd/plugins/fontawesome-free/css/all.min.css">
<!-- Ionicons -->
<link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
<!-- SweetAlert2 -->
<link rel="stylesheet" href="~/FrontEnd/plugins/sweetalert2-theme-bootstrap-4/bootstrap-4.min.css">
<!-- Toastr -->
<link rel="stylesheet" href="~/FrontEnd/plugins/toastr/toastr.min.css">
<!-- Theme style -->
<link rel="stylesheet" href="~/FrontEnd/dist/css/adminlte.min.css">
<link href="~/FrontEnd/plugins/datatables-responsive/css/responsive.bootstrap4.min.css" rel="stylesheet" />
<link href="https://cdn.datatables.net/1.10.19/css/dataTables.bootstrap.min.css" rel="stylesheet" />
<link href="https://cdn.datatables.net/responsive/2.2.3/css/responsive.dataTables.min.css" rel="stylesheet" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet" />
<link rel="stylesheet" href="/bower_components/eonasdan-bootstrap-datetimepicker/build/css/bootstrap-datetimepicker.min.css" />
<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<link rel="stylesheet" href="/resources/demos/style.css">
<!-- Estiak -->
@*<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
    <link href="https://cdn.datatables.net/1.10.19/css/dataTables.bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdn.datatables.net/responsive/2.2.3/css/responsive.dataTables.min.css" rel="stylesheet" />
    <link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" rel="stylesheet" />
    <link href="@Url.Content("~/css/FrmCss.css")" rel="stylesheet" />
    <link href="@Url.Content("~/css/jquery-ui.css")" rel="stylesheet" />*@

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">

<style>
    .container {
        width: 100% !important;
    }
    .dataTables_filter {
        margin-left: -80px !important;
        margin-top: 5px;
        margin-right: 5px;
    }

    .table-borderless td,
    .table-borderless th {
        border: 0;
    }

    table.dataTable tbody th, table.dataTable tbody td {
        padding: 2px 10px;
    }

    #lnkID {
        color: #596C91;
        background-color: #EBF0F5;
        width: 100px;
        border-radius: 50px;
        height: 31px;
        padding: 3px;
    }

    .table.dataTable.stripe tbody tr.odd, table.dataTable.display tbody tr.odd {
        background-color: #ffffff;
        border-radius: 50px;
    }

    #tblDataList_info {
        font-size: 13px;
        padding: 10px;
    }

    #tblDataList_paginate {
        font-size: 10px;
        padding: 5px;
    }

    .dt-body-center {
        text-align: center;
    }

    .searchbar {
        margin-bottom: auto;
        margin-top: auto;
        height: 60px;
        background-color: #353b48;
        border-radius: 30px;
        padding: 10px;
    }

    .search_input {
        color: white;
        border: 0;
        outline: 0;
        background: none;
        width: 0;
        caret-color: transparent;
        line-height: 40px;
        transition: width 0.4s linear;
    }

    .searchbar:hover > .search_input {
        padding: 0 10px;
        width: 450px;
        caret-color: red;
        transition: width 0.4s linear;
    }

    .searchbar:hover > .search_icon {
        background: white;
        color: #e74c3c;
    }

    .search_icon {
        height: 40px;
        width: 40px;
        float: right;
        display: flex;
        justify-content: center;
        align-items: center;
        border-radius: 50%;
        color: white;
        text-decoration: none;
    }

    .img-fluid {
        max-width: 100%;
        height: 80px;
    }
    .card .card-footer {
        display: block;
        align-items: center;
    }
</style>

<section class="content-header" style="padding:0px">
    <div class="container-fluid">
        <div class="callout callout-info" style="padding-top: 10px;">
            <div class="row mb-2" style="height: 19px;">
                <div class="col-sm-6">
                    <h5>Employee General Info</h5>
                </div>
                <div class="col-sm-6">
                    <ol class="breadcrumb float-sm-right">
                        <li class="breadcrumb-item"><a href="#">Home</a></li>
                        <li class="breadcrumb-item active">Employee General Info</li>
                    </ol>
                </div>
            </div>
        </div>
    </div><!-- /.container-fluid -->
</section>
<!-- Main content -->
<section class="content">
    <div class="container-fluid">
        <!-- Default box -->

        <div class="card card-solid">
            <div style="padding-top: 10px; padding-left: 20px; padding-right: 20px; border-bottom: 1px solid black !important; padding-bottom: 9px; background: aliceblue;" class="border-transparent">
                <a class="btn btn-info" id="addoredit" href="@Url.Action("AddOrEditEmployee","Employee")"><i class="fa fa-plus"></i> New Employee</a>
                <button style="border-left: 2px solid; margin-left: 20px;" class="btn btn-sm">Filter</button>
                @Html.DropDownList("ddlCompany", (SelectList)ViewBag.LoadCompany, new { @class = "selectpicker form-control form-control-sm", @style = "width:10%px" })
                @Html.DropDownList("ddlBranch", (SelectList)ViewBag.Branch, "--Branch--", new { @class = "selectpicker", @style = "width:10%px" })
                @Html.DropDownList("ddlDepartment", (SelectList)ViewBag.LoadDepartment, "--Department--", new { @class = "selectpicker", @style = "width:10%px" })
                @Html.DropDownList("ddlDesignation", (SelectList)ViewBag.LoadDesignation, "--Designation--", new { @class = "selectpicker", @style = "width:10%px" })

                <div class="card-tools" style="float:right">
                    <div class="input-group">
                        <div class="form-outline">
                            <input id="search" placeholder="Type here to search.." type="search" class="form-control" />
                        </div>
                        <button id="search-button" type="button" class="btn btn-primary">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                    @*<div class="input-group">

                @using (Html.BeginForm("Index", "Employee", FormMethod.Get))
                {
                <div class="form-outline">
                    @Html.TextBox("search", null, new { @class = "form-control", @placeholder = "Type Here to Search", @type = "search" })
                </div>
                    <button id="search-button" type="submit" class="btn btn-primary">
                        <i class="fas fa-search"></i>
                    </button>
                }

            </div>*@
                </div>
            </div>
            <div id="resultContet">
                @Html.Partial("_EmployeeList", Model)
            </div>
            
        </div>
        <!-- /.card -->
    </div>
</section>

<script src="~/FrontEnd/plugins/jquery/jquery.min.js"></script>
<script src="~/FrontEnd/plugins/umd/popper.min.js"></script>
<script src="~/FrontEnd/plugins/bootstrap/js/bootstrap.min.js"></script>
<script src="~/FrontEnd/plugins/datatables/jquery.dataTables.min.js"></script>
<link href="~/FrontEnd/plugins/datatables-bs4/css/dataTables.bootstrap4.min.css" rel="stylesheet" />
<script src="~/FrontEnd/plugins/jquery-ui/jquery-ui.min.js"></script>
<script src="~/FrontEnd/plugins/select2/js/select2.min.js"></script>
<script src="~/FrontEnd/jquery.timepicker.min.js" type="text/javascript"></script>
<script src="https://cdn.datatables.net/responsive/2.2.3/js/dataTables.responsive.min.js" type="text/javascript"></script>


<!-- Bootstrap 4 -->
<script src="~/FrontEnd/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
<!-- SweetAlert2 -->
<script src="~/FrontEnd/plugins/sweetalert2/sweetalert2.min.js"></script>
<!-- Toastr -->
<script src="~/FrontEnd/plugins/toastr/toastr.min.js"></script>

<!-- AdminLTE for demo purposes -->
<script src="~/FrontEnd/dist/js/demo.js"></script>



@*<script src="~/scripts/jquery.min.js" type="text/javascript"></script>
    <script src="~/scripts/umd/popper.min.js" type="text/javascript"></script>
    <script src="~/scripts/bootstrap.min.js" type="text/javascript"></script>
    <script src="~/scripts/jquery.dataTables.min.js" type="text/javascript"></script>
    <script src="~/scripts/dataTables.bootstrap4.min.js" type="text/javascript"></script>
    <script src="~/scripts/jquery-ui.min.js" type="text/javascript"></script>
    <script src="~/scripts/select2.min.js" type="text/javascript"></script>
    <script src="https://cdn.datatables.net/responsive/2.2.3/js/dataTables.responsive.min.js" type="text/javascript"></script>*@

<script>

    var popup, dataTable;
    $(document).ready(function () {

        $("#search").keyup(function () {
            @*var val = $('#search').val();

            var url = '@Url.Action("SearchResult", "Employee")?search=' + val;
            $('#resultContet').load(url);*@
            var searchString = $('#search').val();
            var CompanyCode = $("#ddlCompany").val();
            var BranchCode = $("#ddlBranch").val();
            var DepartmentCode = $("#ddlDepartment").val();
            var DesignationCode = $("#ddlDesignation").val();

            var url = '@Url.Action("SearchResult", "Employee")?search=' + searchString + '&company=' + CompanyCode + '&branch=' + BranchCode + '&department=' + DepartmentCode + '&designation=' + DesignationCode;
            $('#resultContet').load(url);
        });
        $('.selectpicker').select2();

        $('#ddlCompany, #ddlBranch, #ddlDepartment, #ddlDesignation').on('change', function () {
            var searchString = $('#search').val();
            var CompanyCode = $("#ddlCompany").val();
            var BranchCode = $("#ddlBranch").val();
            var DepartmentCode = $("#ddlDepartment").val();
            var DesignationCode = $("#ddlDesignation").val();

            var url = '@Url.Action("SearchResult", "Employee")?search=' + searchString + '&company=' + CompanyCode + '&branch=' + BranchCode + '&department=' + DepartmentCode + '&designation=' + DesignationCode;
            $('#resultContet').load(url);

        });
    });

</script>

